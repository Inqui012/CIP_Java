<!DOCTYPE html>
<!-- 
	페이지마다 면화하는 내용을 보여주기 위한 레이아웃을 설정하기 위해 필요한 설정.
	layout:decorate="~{레이아웃폴더/html명}"
-->
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/shopping}">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
</head>
<body>
	<!--
		layout:fragment="이름" 으로 지정해서 내용을 다르게 작성할 수 있다...
		같은 이름으로 여러개의 본문내용을 담은 태그를 작성해서 바꿔끼는건 상상할 수 있는데, 이거 어떤 본문을 표시할지는 어떻게...
		아 컨트롤러에서 여기로 들어오고는 이 본문을 가지고 page01 을 표현하니까 그거 컨트롤러에서 조절할 수 있겠구나.
	-->
	<div layout:fragment="section">
		<section class="card">
			<div class="card-body" sec:authorize="isAnonymous()">
				비로그인 상태
			</div>
			<!--
				hasRole() 과 hasAuthority() 는 역할과 권한의 표현차이가 있을 뿐 기본적인 기능으로써는 유사하다.
				isAuthenticated() 는 권한을 가진 모든 사용자를 의미하니까 USER 와 ADMIN을 포함한다.
				권한은 계층적인 구조? 라고 생각하면 되려나
				특정 권한에서만 특정 페이지를 보이게하려면 권한을 지정해줘야함.
			-->
			<div class="card-body" sec:authorize="hasRole('USER')">
				일반 회원 [ <span th:text="${User}"></span> ] 로그인 상태
			</div>		
			<div class="card-body" sec:authorize="hasAnyAuthority('ROLE_ADMIN')">
				관리자 [ <span th:text="${User}"></span> ]로그인 상태
			</div>		
		</section>
	</div>
</body>
</html>