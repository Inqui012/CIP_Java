<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/shopping}">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<th:block layout:fragment="script">
		<script th:inline="javascript">
			$(document).ready(function(){
				var errorMsg = [[${errorMessage}]];
				if(errorMsg != null){
					alert(errorMsg);
				}
				bindDomEvent();
			})
			// 파일을 첨부했을 시에 확장자를 추출하여 이미지인지 아닌지 판단하는 기능
			function bindDomEvent(){
	            $(".custom-file-input").on("change", function() {
	                var fileName = $(this).val().split("\\").pop();  //이미지 파일명
	                var fileExt = fileName.substring(fileName.lastIndexOf(".")+1); // 확장자 추출
	                fileExt = fileExt.toLowerCase(); //소문자 변환
	
	                if(fileExt != "jpg" && fileExt != "jpeg" && fileExt != "gif" && fileExt != "png" && fileExt != "bmp"){
	                    alert("이미지 파일만 등록이 가능합니다.");
	                    return;
	                }
	
	                $(this).siblings(".custom-file-label").html(fileName);
	            });
	        }
		</script>
	</th:block>
	<th:block layout:fragment="css">
		<style>
			.fieldError {color: #bd2130;}
			form > div {margin: 20px 0}
			form > div label {margin: 0 0 10px 0}
			.input-group {margin-bottom : 15px}
	        .img-div {margin-bottom : 10px}
		</style>
	</th:block>
</head>
<body>
	<div layout:fragment="section">
		<div class="row row-cols-1 row-cols-md-2 g-4">
		  <div class="col" th:each="item, status : ${itemList}">
		    <div class="card">
		      <img src="..." class="card-img-top" alt="...">
		      <div class="card-body">
		        <h5 class="card-title">Card title</h5>
		        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
		      </div>
		    </div>
		  </div>
		</div>
	</div>
</body>
</html>